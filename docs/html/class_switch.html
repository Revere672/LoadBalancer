<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Load Balancer Simulation: Switch Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Load Balancer Simulation<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">A simulation of a dual load balancer with dynamic server scaling</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_switch.html','','class_switch-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Switch Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Top-level coordinator that drives two <a class="el" href="class_load_balancer.html" title="Distributes incoming network requests across a dynamic pool of web servers.">LoadBalancer</a> instances.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="switch_8h_source.html">switch.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac45d8061d8f18b93377764d3371c24b3" id="r_ac45d8061d8f18b93377764d3371c24b3"><td class="memItemLeft">&#160;</td><td class="memItemRight"><a class="el" href="#ac45d8061d8f18b93377764d3371c24b3">Switch</a> (std::queue&lt; <a class="el" href="class_request.html">Request</a> &gt; requestQueue_P, std::queue&lt; <a class="el" href="class_request.html">Request</a> &gt; requestQueue_S, std::vector&lt; <a class="el" href="class_web_server.html">WebServer</a> &gt; webServers_P, std::vector&lt; <a class="el" href="class_web_server.html">WebServer</a> &gt; webServers_S, int minThreshold, int maxThreshold, int cooldownTime, int <a class="el" href="#a9a31adb01fc5b4a8ee933466917b8e79">maxProcessTime</a>)</td></tr>
<tr class="memdesc:ac45d8061d8f18b93377764d3371c24b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the <a class="el" href="class_switch.html" title="Top-level coordinator that drives two LoadBalancer instances.">Switch</a> and initializes both load balancers.  <br /></td></tr>
<tr class="memitem:a527a1776c120ca9b0cc0da4e048502c5" id="r_a527a1776c120ca9b0cc0da4e048502c5"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#a527a1776c120ca9b0cc0da4e048502c5">run</a> (int clockCycles, std::ofstream &amp;<a class="el" href="#a5d3754636b2f7ded976701840ba45fbb">logFile</a>)</td></tr>
<tr class="memdesc:a527a1776c120ca9b0cc0da4e048502c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the simulation for the specified number of clock cycles.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-attribs" class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6aa6d657580588318129305ca441eade" id="r_a6aa6d657580588318129305ca441eade"><td class="memItemLeft"><a class="el" href="class_load_balancer.html">LoadBalancer</a>&#160;</td><td class="memItemRight"><a class="el" href="#a6aa6d657580588318129305ca441eade">loadBalancer_P</a></td></tr>
<tr class="memdesc:a6aa6d657580588318129305ca441eade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load balancer handling primary ('P') requests.  <br /></td></tr>
<tr class="memitem:a641a0009a1169de01a02bcd3b8a09ec1" id="r_a641a0009a1169de01a02bcd3b8a09ec1"><td class="memItemLeft"><a class="el" href="class_load_balancer.html">LoadBalancer</a>&#160;</td><td class="memItemRight"><a class="el" href="#a641a0009a1169de01a02bcd3b8a09ec1">loadBalancer_S</a></td></tr>
<tr class="memdesc:a641a0009a1169de01a02bcd3b8a09ec1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load balancer handling secondary ('S') requests.  <br /></td></tr>
<tr class="memitem:a44d1f49b5a65c7c6e87270e7bf68e154" id="r_a44d1f49b5a65c7c6e87270e7bf68e154"><td class="memItemLeft">int&#160;</td><td class="memItemRight"><a class="el" href="#a44d1f49b5a65c7c6e87270e7bf68e154">clockTime</a></td></tr>
<tr class="memdesc:a44d1f49b5a65c7c6e87270e7bf68e154"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current simulation clock (incremented each cycle).  <br /></td></tr>
<tr class="memitem:a9a31adb01fc5b4a8ee933466917b8e79" id="r_a9a31adb01fc5b4a8ee933466917b8e79"><td class="memItemLeft">int&#160;</td><td class="memItemRight"><a class="el" href="#a9a31adb01fc5b4a8ee933466917b8e79">maxProcessTime</a></td></tr>
<tr class="memdesc:a9a31adb01fc5b4a8ee933466917b8e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upper bound on randomly generated request durations.  <br /></td></tr>
<tr class="memitem:a5d3754636b2f7ded976701840ba45fbb" id="r_a5d3754636b2f7ded976701840ba45fbb"><td class="memItemLeft">std::ofstream&#160;</td><td class="memItemRight"><a class="el" href="#a5d3754636b2f7ded976701840ba45fbb">logFile</a></td></tr>
<tr class="memdesc:a5d3754636b2f7ded976701840ba45fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal log file stream (unused; logging via <a class="el" href="#a527a1776c120ca9b0cc0da4e048502c5" title="Runs the simulation for the specified number of clock cycles.">run()</a> param).  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Top-level coordinator that drives two <a class="el" href="class_load_balancer.html" title="Distributes incoming network requests across a dynamic pool of web servers.">LoadBalancer</a> instances. </p>
<p>The <a class="el" href="class_switch.html" title="Top-level coordinator that drives two LoadBalancer instances.">Switch</a> class aggregates a primary <a class="el" href="class_load_balancer.html" title="Distributes incoming network requests across a dynamic pool of web servers.">LoadBalancer</a> (<code>loadBalancer_P</code>) and a secondary <a class="el" href="class_load_balancer.html" title="Distributes incoming network requests across a dynamic pool of web servers.">LoadBalancer</a> (<code>loadBalancer_S</code>). Its <a class="el" href="#a527a1776c120ca9b0cc0da4e048502c5" title="Runs the simulation for the specified number of clock cycles.">run()</a> method advances the simulation for the requested number of clock cycles, injecting random bursts of requests and forwarding them to the appropriate balancer. </p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac45d8061d8f18b93377764d3371c24b3" name="ac45d8061d8f18b93377764d3371c24b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac45d8061d8f18b93377764d3371c24b3">&#9670;&#160;</a></span>Switch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Switch::Switch </td>
          <td>(</td>
          <td class="paramtype">std::queue&lt; <a class="el" href="class_request.html">Request</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>requestQueue_P</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::queue&lt; <a class="el" href="class_request.html">Request</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>requestQueue_S</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_web_server.html">WebServer</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>webServers_P</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_web_server.html">WebServer</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>webServers_S</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>minThreshold</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>maxThreshold</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cooldownTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>maxProcessTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs the <a class="el" href="class_switch.html" title="Top-level coordinator that drives two LoadBalancer instances.">Switch</a> and initializes both load balancers. </p>
<p>Constructs the <a class="el" href="class_switch.html" title="Top-level coordinator that drives two LoadBalancer instances.">Switch</a> and forwards configuration to both load balancers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requestQueue_P</td><td>Initial request queue for the primary load balancer. </td></tr>
    <tr><td class="paramname">requestQueue_S</td><td>Initial request queue for the secondary load balancer. </td></tr>
    <tr><td class="paramname">webServers_P</td><td>Initial server pool for the primary load balancer. </td></tr>
    <tr><td class="paramname">webServers_S</td><td>Initial server pool for the secondary load balancer. </td></tr>
    <tr><td class="paramname">minThreshold</td><td>Passed through to both <a class="el" href="class_load_balancer.html" title="Distributes incoming network requests across a dynamic pool of web servers.">LoadBalancer</a> instances. </td></tr>
    <tr><td class="paramname">maxThreshold</td><td>Passed through to both <a class="el" href="class_load_balancer.html" title="Distributes incoming network requests across a dynamic pool of web servers.">LoadBalancer</a> instances. </td></tr>
    <tr><td class="paramname">cooldownTime</td><td>Passed through to both <a class="el" href="class_load_balancer.html" title="Distributes incoming network requests across a dynamic pool of web servers.">LoadBalancer</a> instances. </td></tr>
    <tr><td class="paramname"><a class="el" href="#a9a31adb01fc5b4a8ee933466917b8e79" title="Upper bound on randomly generated request durations.">maxProcessTime</a></td><td>Maximum processing time (in cycles) for generated requests.</td></tr>
  </table>
  </dd>
</dl>
<p>Uses member-initializer syntax to construct <code>loadBalancer_P</code> and <code>loadBalancer_S</code> in place, avoiding unnecessary copies.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requestQueue_P</td><td>Pre-populated queue of primary requests. </td></tr>
    <tr><td class="paramname">requestQueue_S</td><td>Pre-populated queue of secondary requests. </td></tr>
    <tr><td class="paramname">webServers_P</td><td>Initial server pool for the primary balancer. </td></tr>
    <tr><td class="paramname">webServers_S</td><td>Initial server pool for the secondary balancer. </td></tr>
    <tr><td class="paramname">minThreshold</td><td>Per-server queue lower bound for deallocation. </td></tr>
    <tr><td class="paramname">maxThreshold</td><td>Per-server queue upper bound for allocation. </td></tr>
    <tr><td class="paramname">cooldownTime</td><td>Cycles between auto-scaling checks. </td></tr>
    <tr><td class="paramname"><a class="el" href="#a9a31adb01fc5b4a8ee933466917b8e79" title="Upper bound on randomly generated request durations.">maxProcessTime</a></td><td>Maximum processing time for dynamically generated requests. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a527a1776c120ca9b0cc0da4e048502c5" name="a527a1776c120ca9b0cc0da4e048502c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a527a1776c120ca9b0cc0da4e048502c5">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Switch::run </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>clockCycles</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ofstream &amp;</td>          <td class="paramname"><span class="paramname"><em>logFile</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the simulation for the specified number of clock cycles. </p>
<p>Advances the simulation for the specified number of clock cycles.</p>
<p>Each cycle:</p><ol type="1">
<li>With ~10% probability, generates 1–80 new requests of random job type.</li>
<li>Calls loadBalancer_P.runCycle() with the new primary requests.</li>
<li>Calls loadBalancer_S.runCycle() with the new secondary requests.</li>
<li>Increments the internal clock counter.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clockCycles</td><td>Total number of cycles to simulate. </td></tr>
    <tr><td class="paramname"><a class="el" href="#a5d3754636b2f7ded976701840ba45fbb" title="Internal log file stream (unused; logging via run() param).">logFile</a></td><td>Open output stream used for event logging across both balancers.</td></tr>
  </table>
  </dd>
</dl>
<p>On each cycle a random number is drawn. If the value equals 10 (approximately a 1-in-11 chance), a burst of 1–80 new requests is created. Each request is randomly assigned job type 'P' or 'S' and placed in the corresponding temporary vector. Both load balancers then process their respective new-request vectors via runCycle().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clockCycles</td><td>Total number of cycles to simulate. </td></tr>
    <tr><td class="paramname"><a class="el" href="#a5d3754636b2f7ded976701840ba45fbb" title="Internal log file stream (unused; logging via run() param).">logFile</a></td><td>Open output stream shared by both load balancers for logging. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a44d1f49b5a65c7c6e87270e7bf68e154" name="a44d1f49b5a65c7c6e87270e7bf68e154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44d1f49b5a65c7c6e87270e7bf68e154">&#9670;&#160;</a></span>clockTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Switch::clockTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current simulation clock (incremented each cycle). </p>

</div>
</div>
<a id="a6aa6d657580588318129305ca441eade" name="a6aa6d657580588318129305ca441eade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa6d657580588318129305ca441eade">&#9670;&#160;</a></span>loadBalancer_P</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_load_balancer.html">LoadBalancer</a> Switch::loadBalancer_P</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load balancer handling primary ('P') requests. </p>

</div>
</div>
<a id="a641a0009a1169de01a02bcd3b8a09ec1" name="a641a0009a1169de01a02bcd3b8a09ec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a641a0009a1169de01a02bcd3b8a09ec1">&#9670;&#160;</a></span>loadBalancer_S</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_load_balancer.html">LoadBalancer</a> Switch::loadBalancer_S</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load balancer handling secondary ('S') requests. </p>

</div>
</div>
<a id="a5d3754636b2f7ded976701840ba45fbb" name="a5d3754636b2f7ded976701840ba45fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3754636b2f7ded976701840ba45fbb">&#9670;&#160;</a></span>logFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ofstream Switch::logFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal log file stream (unused; logging via <a class="el" href="#a527a1776c120ca9b0cc0da4e048502c5" title="Runs the simulation for the specified number of clock cycles.">run()</a> param). </p>

</div>
</div>
<a id="a9a31adb01fc5b4a8ee933466917b8e79" name="a9a31adb01fc5b4a8ee933466917b8e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a31adb01fc5b4a8ee933466917b8e79">&#9670;&#160;</a></span>maxProcessTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Switch::maxProcessTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Upper bound on randomly generated request durations. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="switch_8h_source.html">switch.h</a></li>
<li><a class="el" href="switch_8cpp.html">switch.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_switch.html">Switch</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
